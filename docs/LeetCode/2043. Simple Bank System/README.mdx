---
title: 2043. Simple Bank System
description: You have been tasked with writing a program for a popular bank that will automate all its incoming transactions (transfer, deposit, and withdraw). The bank has n accounts numbered from 1 to n. The initial balance of each account is stored in a 0-indexed integer array balance, with the (i + 1)th account having an initial balance of balance[i].
keywords: [
    LeetCode,
    2043. Simple Bank System,
    Medium,
    Array
    Hash Table,
    Design,
    Simulation,
  ]
tags: [
    LeetCode,
    Medium,
    Array
    Hash Table,
    Design,
    Simulation,
  ]
---

# [{frontMatter.title}](https://leetcode.com/problems/simple-bank-system)

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import CodeBlock from "@theme/CodeBlock";
import DifficultyBadge from "@site/src/components/Badges/DifficultyBadge";
import SolutionJs from "!!raw-loader!./solution.js";
import SolutionTs from "!!raw-loader!./solution.ts";
import Description from "./_Description.md";
import Examples from "./_Examples.md";

<DifficultyBadge difficulty="Medium" />

<Tabs>
  <TabItem value="description" label="題目描述" default>
    <details open>
      <summary>Description</summary>
        <Description />
        <Examples />
    </details> 
  </TabItem>

  <TabItem value="solution" label="解答">
   ## Solution
<Tabs>
  <TabItem value="js" label="JavaScript" default>
       <CodeBlock language="js">{SolutionJs}</CodeBlock>
  </TabItem>
  <TabItem value="ts" label="TypeScript">
      <CodeBlock language="ts">{SolutionTs}</CodeBlock>
  </TabItem>
</Tabs>

  </TabItem>
</Tabs>

## 解題思路

照著題目描述並轉換成程式碼  
首先初始化 Bank 物件，包含傳入的 `balance` 以及 `n` 代表 `balance` 的 length

```js
var Bank = function (balance) {
  this.balance = balance;
  this.n = balance.length;
};
```

再分別實作轉帳、存款、提款的功能  
先是轉帳

```js
Bank.prototype.transfer = function (account1, account2, money) {
  if (account1 > this.n || account2 > this.n) return false; // 如果任一帳戶編號 > n ，代表該帳戶不存在，回傳 false
  if (money > this.balance[account1 - 1]) return false; // 如果帳戶餘額不夠也是 false

  this.balance[account1 - 1] -= money; // 從帳戶 1 轉出 money
  this.balance[account2 - 1] += money; // 把 money 轉入帳戶 2

  return true;
};
```

再來存款

```js
Bank.prototype.deposit = function (account, money) {
  if (account > this.n) return false; // 如果帳戶編號 > n ，代表該帳戶不存在，回傳 false

  this.balance[account - 1] += money; // 把 money 存入該帳戶

  return true;
};
```

最後提款

```js
Bank.prototype.withdraw = function (account, money) {
  if (account > this.n) return false; // 如果帳戶編號 > n ，代表該帳戶不存在，回傳 false
  if (money > this.balance[account - 1]) return false; // 如果帳戶餘額不夠也是 false

  this.balance[account - 1] -= money; // 從帳戶中轉出 money

  return true;
};
```

## 心得

酷酷物件導向  
一開始使用 `!this.balance[account - 1]`，來判斷帳戶是否存在  
但這樣子要是帳戶餘額是 `0`，`!0` 會變成 `true`，導致錯誤判斷為帳戶不存在  
後來改成使用 `if (account > this.n)` 解決此問題。

而因為物件導向很適合用來練習 TypeScript  
所以也另外寫了 TS 版本的解答。  
跟 JS 的邏輯是一樣的，只是變為使用 class 來實作，以及在初始化時候包含 `balance` 和 `n` 的型別來避免 IDE 報錯

```ts
class Bank {
  public balance: number[];
  public n: number;

  constructor(balance: number[]) {
    this.balance = balance;
    this.n = balance.length;
  }
}
```
