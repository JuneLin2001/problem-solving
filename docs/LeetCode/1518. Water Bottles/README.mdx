---
title: 1518. Water Bottles
description: There are numBottles water bottles that are initially full of water. You can exchange numExchange empty water bottles from the market with one full water bottle.
keywords: [LeetCode, 1518. Water Bottles, Easy, Math, Simulation]
tags: [LeetCode, Easy, Math, Simulation]
---

# [{frontMatter.title}](https://leetcode.com/problems/water-bottles)

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import CodeBlock from "@theme/CodeBlock";
import DifficultyBadge from "@site/src/components/Badges/DifficultyBadge";
import Solution from "!!raw-loader!./solution.js";
import Description from "./_Description.md";
import Examples from "./_Examples.md";

<DifficultyBadge difficulty="Easy" />

<Tabs>
  <TabItem value="description" label="題目描述" default>
    <details open>
      <summary>Description</summary>
        <Description />
        <Examples />
    </details> 
  </TabItem>

  <TabItem value="solution" label="解答">
   ## Solution
    <CodeBlock language="js">{Solution}</CodeBlock>
  </TabItem>
</Tabs>

## 解題思路

題目要算出最多能喝到幾瓶水，兩個參數 `numBottles` 和 `numExchange`，代表一開始總共有 `numBottles` 瓶滿的水，且用 `numExchange` 個空瓶就可以換到一瓶滿的水。

我的做法是先定義兩個變數

```js
let result = 0; //總共喝了幾瓶水
let emptyBottles = 0; //目前的空瓶數量
```

第一步是使用 while 迴圈，當還有水沒喝光的時候就重複執行程式

```js
while (numBottles > 0) {}
```

迴圈中首先是先把所有滿的水喝光

```js
while (numBottles > 0) {
  result += numBottles; //喝光一開始的 numBottles 瓶水，之後加進 result 中
  emptyBottles += numBottles; //喝光一開始的 numBottles 瓶水，所以多了 numBottles 個空瓶
}
```

之後加上使用空瓶換水的部分

```js
while (numBottles > 0) {
  result += numBottles;
  emptyBottles += numBottles;
  numBottles = Math.floor(emptyBottles / numExchange); // 使用目前的空瓶換水
  emptyBottles = emptyBottles % numExchange; // 算出換完剩下的空瓶總數
}
```

最後當水喝完且空瓶不夠換水的時候就是答案了！

## 心得

先把題目看一遍，先寫出 sudo code，之後嘗試把 sudo code 轉為真實程式碼。
